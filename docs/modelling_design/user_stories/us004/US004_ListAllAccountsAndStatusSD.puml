@startuml
!theme plain
hide footbox

actor Administrator as Administrator
participant ": ListAccountsUI" as UI
participant ": ListAccountsController" as Controller
participant "lsAccounts : List<AccountDTO>" as DTOList
participant "accountDTO : AccountDTO" as DTO
participant "account : Account" as account

participant ": AccountList" as AccountList

activate Administrator #FFBBBB
Administrator ->  UI: Requests list of user\accounts and their status

activate UI #FFBBBB
UI -> Controller: listAccounts()

activate Controller #FFBBBB
Controller -> DTOList ** : create

loop for each account
Controller -> AccountList : account = getAccountAtIndex(i)
activate AccountList #FFBBBB
AccountList -> account : email = getEmail()
activate account #FFBBBB
deactivate account
AccountList -> account : status = getStatus()
activate account #FFBBBB
deactivate account

AccountList -> DTO ** : create(email, status)

AccountList -> DTOList : add(accountDTO)
activate DTOList #FFBBBB
deactivate DTOList
deactivate AccountList
end

Controller --> UI : lsAccounts
deactivate Controller
deactivate UI

UI --> Administrator: Displays list of user\accounts and their status
deactivate Administrator #FFBBBB
@enduml