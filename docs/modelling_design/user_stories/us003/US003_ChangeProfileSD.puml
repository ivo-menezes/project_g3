@startuml
!theme plain
hide footbox

actor Administrator
participant ": ChangeProfileUI" as UI
participant ": ChangeProfileController" as Controller
participant ": Services" as Services
participant ": AccountList" as AccountList
participant ": ProfileList" as ProfileList
participant "profile : Profile" as Profile
participant "account : Account" as Account



activate Administrator #FFBBBB
Administrator -> UI : Change user profile (user, profile)
activate UI #FFBBBB
UI -> Controller : changeProfile(email, newProfileName)
activate Controller #FFBBBB
Controller -> Services : changeProfile(email, newProfileName)
activate Services #FFBBBB
Services -> AccountList : account = getAccount(email)
activate AccountList #FFBBBB
deactivate AccountList
Services -> ProfileList : profile = getProfile(newProfileName)
activate ProfileList #FFBBBB
deactivate ProfileList #FFBBBB
Services -> Account : setProfile(profile)
activate Account #FFBBBB
deactivate Account #FFBBBB

Services --> Controller : Confirms profile change
Controller --> UI : Confirms profile change
UI --> Administrator : Confirms profile change
@enduml