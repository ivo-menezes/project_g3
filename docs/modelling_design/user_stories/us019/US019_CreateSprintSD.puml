@startuml
!theme plain
hide footbox
autonumber
title "US019 - As Project Manager, I want to create a sprint."

actor ProjectManager as User
participant ": CreateSprintUI" as UI
participant "sprintDTO : SprintDTO" as DTO
participant ": CreateSprintController" as Controller
participant ": ProjectList" as ProjectList
participant "project : Project" as Project
participant "sprintList : SprintList" as SprintList
participant "sprint : Sprint" as Sprint

activate User #FFBBBB
User ->  UI: Requests creation of a sprint \n(projectCode, sprintNumber, startDate, endDate)

activate UI #FFBBBB
UI --> DTO **: create(sprintNumber, startDate, endDate)
UI -> Controller: createSprint(projectCode, sprintDTO)
activate Controller #FFBBBB

Controller -> ProjectList: getProject(projectCode);
activate ProjectList #FFBBBB
ProjectList --> Controller: project
deactivate ProjectList
Controller -> Project: getSprintList();
activate Project #FFBBBB
Project --> Controller: sprintList
deactivate Project

Controller -> SprintList: createSprint(sprintDTO);
activate SprintList #FFBBBB

SprintList -> SprintList: isValidDate(sprintDTO);
SprintList -> Sprint **: createSprint(sprintDTO);
SprintList -> SprintList: hasSprint(sprint);
SprintList -> SprintList: add(sprint);

SprintList --> Controller: true
deactivate SprintList

Controller --> UI : true
deactivate Controller

UI --> User: Confirms created Sprint
deactivate UI
deactivate User #FFBBBB
@enduml