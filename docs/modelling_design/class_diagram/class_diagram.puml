@startuml

' UIs
class CreateProfileUI {}
class RegisterAccountUI {}
class ChangeProfileUI {}
class ListAccountsUI {}
class AccountStatusUI {}

' Controllers
class CreateProfileController {
createProfile(profileName)
}

class RegisterAccountController {
registerAccount(name, email, phone)
registerAccount(name, email, phone, photo)
}

class ChangeProfileController {
changeProfile(email, newProfileName)
}

class ListAccountsController{
listAccounts()
}

class AccountStatusController {
changeAccountStatus(email, newStatus)
}

' Business Layer

class Profile {
name : String
}

class Account {
profile : Profile
name : String
email : String
phone : String
photo : Photo
isActive : boolean
inactivateAccount()
}

class AccountDTO {
email : String
isActive : boolean
create(email, status)
}

' Data Access Layer

class ProfileList {
profiles : List<Profile>
getProfile(profileName)
save(profile)
}

class AccountList {
accounts: List<Account>
getAccountAtIndex(index)
registerAccount(name, email, phone, photo)
save(newAccount)
getAccount(email)
}

class CreateProjectUI {
}

class CreateProjectController {
projectList : ProjectList
createProject(code, name, description)
}


class ProjectList {
projectList : List<Project>
createProject(code, name, description)
validateProjectCode(code)
addProject(newProject)
}

'class AccountList {
'AccountList : List<Account>
'checkPermissionsToCreateAProject(accountEmail)
'}

class Project {
code : integer
name : String
description : String
}

class CreateTypologyUI {
}

class CreateTypologyController {
typologyList : TypologyList
createTypology(typologyDesignation)
}


class TypologyList {
typologyList : List<Typology>
createTypology(typologyDesignation)
listDoesNotContain(newTypology)
add(newTypology)
}

class Typology {
typologyDesignation : String
}

' Associations and dependencies

CreateProfileUI "1" o-- "1" CreateProfileController
CreateProfileController "1" o-- "1" ProfileList
ProfileList "1 " *-- "    *" Profile

RegisterAccountUI "1" o-- "1" RegisterAccountController
RegisterAccountController  "1" o-- "1"  AccountList

Account ..> Profile
AccountList "1" *-- "*" Account : has

ChangeProfileUI "1" o-- "1" ChangeProfileController
ChangeProfileController "1" o-- "1" AccountList
ChangeProfileController  "1" o-- "1"  ProfileList

ListAccountsController "1" o-- "1" AccountList
ListAccountsUI "1" o-- "1" ListAccountsController
AccountList ..> AccountDTO
AccountDTO ..> Account

AccountStatusUI "1" o-- "1" AccountStatusController
AccountStatusController "1" o-- "1  " "AccountList"

CreateProjectUI "1" o--   "1" CreateProjectController
CreateProjectController "1" o-- "1" ProjectList
ProjectList "1 " *-- "*" Project


CreateTypologyUI "1" o-- "1" CreateTypologyController
CreateTypologyController "1" o-- "1" TypologyList
TypologyList "1 " *-- "    *" Typology


@enduml